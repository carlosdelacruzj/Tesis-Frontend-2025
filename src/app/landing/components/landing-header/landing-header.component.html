<nav class="site-header">
  <div class="site-header__inner">
    <a
      class="site-header__brand"
      routerLink="/inicio"
      aria-label="D' La Cruz inicio"
    >
      <img
        src="assets/images/logo-white-360.png"
        alt="D' La Cruz video y fotografía"
      />
    </a>
    <ul class="site-header__nav" aria-label="Navegación principal">
      <li>
        <a href="#" (click)="navigateToSection($event, 'servicios')"
          >Servicios</a
        >
      </li>
      <li>
        <a routerLink="/portafolio">Portafolio</a>
      </li>
      <li>
        <a href="#" (click)="navigateToSection($event, 'paquetes')">Paquetes</a>
      </li>
      <li>
        <a href="#" (click)="navigateToSection($event, 'nosotros')">Nosotros</a>
      </li>
      <li>
        <a href="#" (click)="navigateToSection($event, 'faq')">FAQ</a>
      </li>
      @if (isCliente) {
        <li>
          <a routerLink="/cotizaciones">Mis cotizaciones</a>
        </li>
        <li>
          <a routerLink="/pedidos">Mis pedidos</a>
        </li>
      }
      <li>
        <button
          class="btn btn-light btn-sm"
          type="button"
          (click)="handleCotizacion()"
        >
          <i class="fas fa-fw fa-file-invoice-dollar"></i>
          Cotización
        </button>
      </li>
      <!-- @if (isAuthenticated) {
        <li>
          <button
            class="nav-link nav-user__button nav-user__button--stack"
            type="button"
            (click)="openLogin()"
          >
            <i class="fas fa-gauge-high" aria-hidden="true"></i>
            <span>
              <span class="nav-user__label">Ir a panel</span>
              <span class="nav-user__name">administrativo</span>
            </span>
          </button>
        </li>
      } -->
      <li class="nav-item dropdown nav-user" [class.show]="dropdownOpen">
        <button
          type="button"
          class="nav-link btn btn-light nav-user__button"
          (click)="toggleDropdown()"
          [attr.aria-expanded]="dropdownOpen"
          aria-haspopup="true"
        >
          <span class="nav-user__avatar" aria-hidden="true">
            @if (isAuthenticated) {
              {{ userInitials }}
            } @else {
              <i class="fas fa-user"></i>
            }
          </span>
          <span class="nav-user__text">
            <span class="nav-user__name">
              @if (isAuthenticated) {
                <span class="nav-user__label">Hola, </span>{{ displayName }}
              } @else {
                Iniciar sesión
              }
            </span>
          </span>
          <span class="nav-user__caret" aria-hidden="true"></span>
        </button>
        @if (isAuthenticated) {
          <div
            class="dropdown-menu dropdown-menu-right nav-user-dropdown"
            [class.show]="dropdownOpen"
          >
            <button
              class="dropdown-item pointer"
              type="button"
              (click)="openLogin()"
            >
              <i class="fas fa-gauge-high"></i>
              <span>Ir al panel administrativo</span>
            </button>
            <button
              class="dropdown-item pointer logout-item"
              type="button"
              (click)="logout()"
            >
              <i class="fas fa-power-off"></i>
              <span>Cerrar sesión</span>
            </button>
          </div>
        }
      </li>
    </ul>
  </div>
</nav>
