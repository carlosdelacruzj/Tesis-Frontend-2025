<section class="client-portal">
  <div class="client-portal__summary">
    <h2>Hola{{ clienteNombre ? ' ' + clienteNombre : '' }} ðŸ‘‹</h2>
    <p>Consulta el avance y pagos de tus pedidos confirmados.</p>
  </div>
</section>

<section class="client-portal client-portal--cards">
  <div class="section__header">
    <h2>Mis pedidos</h2>
    <p>Detalles de tus pedidos activos y prÃ³ximos eventos.</p>
  </div>

  <div *ngIf="loading" class="client-portal__status">Cargando pedidos...</div>
  <div *ngIf="!loading && error" class="client-portal__status client-portal__status--error">{{ error }}</div>
  <div *ngIf="!loading && !error && !pedidos.length" class="client-portal__status">
    AÃºn no registramos pedidos confirmados para tu cuenta.
  </div>

  <div *ngIf="!loading && !error && pedidos.length" class="client-data-grid">
    <article class="client-data-card" *ngFor="let pedido of pedidos">
      <header class="client-data-card__header">
        <span class="client-data-card__badge">{{ pedido.estadoPedido }}</span>
        <h3>{{ pedido.nombrePedido }}</h3>
        <p *ngIf="pedido.estadoPago">Pago: {{ pedido.estadoPago }}</p>
      </header>
      <dl class="client-data-card__details">
        <div>
          <dt>Creado el</dt>
          <dd>{{ pedido.fechaCreacion | date: 'dd/MM/yyyy' }}</dd>
        </div>
        <div>
          <dt>Primer evento</dt>
          <dd>{{ pedido.primerEventoFecha ? (pedido.primerEventoFecha | date: 'dd/MM/yyyy') : 'Por programar' }}</dd>
        </div>
        <div>
          <dt>Total</dt>
          <dd>S/ {{ pedido.total }}</dd>
        </div>
        <div>
          <dt>Saldo pendiente</dt>
          <dd>S/ {{ pedido.saldoPendiente }}</dd>
        </div>
      </dl>
      <p class="client-data-card__message" *ngIf="pedido.observaciones">
        {{ pedido.observaciones }}
      </p>
      <p class="client-data-card__footer" *ngIf="pedido.empleadoNombre">
        Ejecutivo a cargo: {{ pedido.empleadoNombre }}
      </p>
    </article>
  </div>
</section>
