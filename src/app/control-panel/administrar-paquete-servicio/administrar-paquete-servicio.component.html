<div class="dashboard-content">
  <div class="administrar-paquetes">
    <app-list-toolbar
      [title]="'Administrar paquetes'"
      [showSearch]="true"
      [searchPlaceholder]="'Buscar evento por nombre…'"
      [searchValue]="searchTerm"
      [showCreateButton]="true"
      [createButtonLabel]="'Registrar evento'"
      [createButtonIcon]="'add'"
      [disableCreate]="loadingEventos"
      (searchChange)="onBuscarEventos($event)"
      (createClick)="abrirRegistroEvento()">
    </app-list-toolbar>

    <ng-container *ngIf="!loadingEventos && eventosFiltrados.length; else estadoEventos">
      <div class="event-grid">
        <app-event-card
          *ngFor="let evento of eventosFiltrados"
          [id]="evento.id"
          [titulo]="evento.nombre"
          [imagen]="imagenDe(evento.nombre)"
          (emitAccion)="seleccionarEventoPorId($event)">
        </app-event-card>
      </div>
    </ng-container>

    <ng-template #estadoEventos>
      <div class="text-center py-5" *ngIf="loadingEventos">
        <span class="spinner-border text-secondary" role="status" aria-hidden="true"></span>
      </div>
      <div class="empty-state" *ngIf="!loadingEventos && !eventosFiltrados.length">
        <mat-icon>event_busy</mat-icon>
        <p class="mb-1">No se encontraron eventos</p>
        <p class="text-muted small mb-0">
          {{ searchTerm ? 'Prueba con otro término o limpia la búsqueda.' : 'Usa el botón "Registrar evento" para agregar uno nuevo.' }}
        </p>
      </div>
    </ng-template>
  </div>
</div>
